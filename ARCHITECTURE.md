# Project Architecture

## ğŸ“ í´ë” êµ¬ì¡°

```
bartender-fe/
â”œâ”€â”€ src/                          # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ main/                     # Electron ë©”ì¸ í”„ë¡œì„¸ìŠ¤
â”‚   â”œâ”€â”€ preload/                  # í”„ë¦¬ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ renderer/                 # React ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤
â”œâ”€â”€ resources/                    # ì•± ë¦¬ì†ŒìŠ¤ (ì•„ì´ì½˜ ë“±)
â”œâ”€â”€ build/                        # ë¹Œë“œìš© ë¦¬ì†ŒìŠ¤
â”œâ”€â”€ out/                          # ë¹Œë“œ ê²°ê³¼ë¬¼
â”œâ”€â”€ dist/                         # ë°°í¬ìš© íŒ¨í‚¤ì§• ê²°ê³¼ë¬¼
â””â”€â”€ ì„¤ì • íŒŒì¼ë“¤
```

---

## ğŸ”§ Electron ì•„í‚¤í…ì²˜ ìƒì„¸

### ğŸ“± `resources/` - ë„¤ì´í‹°ë¸Œ ì•± ë¦¬ì†ŒìŠ¤
**ì—­í• **: ìš´ì˜ì²´ì œ ë ˆë²¨ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë„¤ì´í‹°ë¸Œ ë¦¬ì†ŒìŠ¤

```
resources/
â””â”€â”€ icon.png                      # ì•± ì•„ì´ì½˜ (macOS Dock, Windows ì‘ì—…í‘œì‹œì¤„ ë“±)
```

**íŠ¹ì§•**:
- **íŒ¨í‚¤ì§• ì‹œ ë²ˆë“¤ì— í¬í•¨**: `electron-builder`ê°€ ìë™ìœ¼ë¡œ ì•±ì— í¬í•¨
- **ìš´ì˜ì²´ì œ í†µí•©**: Dock ì•„ì´ì½˜, ì•Œë¦¼ ì•„ì´ì½˜, ì‘ì—…í‘œì‹œì¤„ ë“±ì— ì‚¬ìš©
- **í”Œë«í¼ë³„ ìµœì í™”**: macOSìš© ICNS, Windowsìš© ICOë¡œ ìë™ ë³€í™˜
- **ì ‘ê·¼ ë°©ì‹**: ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì—ì„œ `import icon from "../../resources/icon.png?asset"`ë¡œ ì°¸ì¡°

---

### ğŸ–¥ï¸ `src/main/` - Electron ë©”ì¸ í”„ë¡œì„¸ìŠ¤ (ë°±ì—”ë“œ)
**ì—­í• **: Node.js í™˜ê²½ì—ì„œ ì‹¤í–‰ë˜ëŠ” Electronì˜ í•µì‹¬ ì œì–´ í”„ë¡œì„¸ìŠ¤

```
src/main/
â””â”€â”€ index.ts                      # ë©”ì¸ í”„ë¡œì„¸ìŠ¤ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
```

**í•µì‹¬ ì—­í• **:
- **ì•± ë¼ì´í”„ì‚¬ì´í´ ì œì–´**: ì‹œì‘, ì¢…ë£Œ, ì°½ ê´€ë¦¬
- **BrowserWindow ê´€ë¦¬**: ì°½ ìƒì„±, í¬ê¸° ì¡°ì ˆ, ìµœì†Œí™”/ìµœëŒ€í™”
- **ì‹œìŠ¤í…œ API ì ‘ê·¼**: íŒŒì¼ ì‹œìŠ¤í…œ, ë„¤ì´í‹°ë¸Œ ë©”ë‰´, íŠ¸ë ˆì´, ì•Œë¦¼
- **ë³´ì•ˆ ê²Œì´íŠ¸ì›¨ì´**: ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ì˜ ê¶Œí•œ ì œì–´
- **IPC ì„œë²„**: `ipcMain.on()`, `ipcMain.handle()`ë¡œ í†µì‹  ìˆ˜ì‹ 

**ì‹¤í–‰ í™˜ê²½**: Node.js (ëª¨ë“  Node.js API ì‚¬ìš© ê°€ëŠ¥)

**ì£¼ìš” ì½”ë“œ ì˜ˆì‹œ**:
```typescript
// ì°½ ìƒì„± ë° ê´€ë¦¬
const mainWindow = new BrowserWindow({
  width: 900, height: 670,
  webPreferences: {
    preload: join(__dirname, '../preload/index.js'),
    sandbox: false
  }
})

// IPC í†µì‹  ì²˜ë¦¬
ipcMain.on('ping', () => console.log('pong'))
```

---

### ğŸŒ‰ `src/preload/` - ë³´ì•ˆ ë¸Œë¦¿ì§€ ìŠ¤í¬ë¦½íŠ¸
**ì—­í• **: ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì™€ ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ ê°„ ì•ˆì „í•œ í†µì‹  ë‹¤ë¦¬

```
src/preload/
â”œâ”€â”€ index.ts                      # í”„ë¦¬ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ êµ¬í˜„
â””â”€â”€ index.d.ts                    # TypeScript íƒ€ì… ì •ì˜ (window.electron ë“±)
```

**í•µì‹¬ ì—­í• **:
- **API ë…¸ì¶œ ì œì–´**: `contextBridge.exposeInMainWorld()`ë¡œ ì•ˆì „í•˜ê²Œ API ë…¸ì¶œ
- **ë³´ì•ˆ ê²½ê³„**: ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì˜ ê°•ë ¥í•œ ê¶Œí•œì„ ì œí•œì ìœ¼ë¡œë§Œ ë Œë”ëŸ¬ì— ì œê³µ
- **IPC ì¸í„°í˜ì´ìŠ¤**: ë Œë”ëŸ¬ê°€ ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì™€ í†µì‹ í•  ìˆ˜ ìˆëŠ” ë°©ë²• ì œê³µ
- **íƒ€ì… ì•ˆì „ì„±**: TypeScript íƒ€ì… ì •ì˜ë¡œ ê°œë°œ ì‹œ ìë™ì™„ì„± ì§€ì›

**ì‹¤í–‰ í™˜ê²½**: ì œí•œëœ Node.js (ì¼ë¶€ Node.js APIë§Œ ì‚¬ìš© ê°€ëŠ¥)

**ë³´ì•ˆ ì›ì¹™**:
- ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ëŠ” ì§ì ‘ì ìœ¼ë¡œ Node.js APIì— ì ‘ê·¼ ë¶ˆê°€
- preload ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ì„œë§Œ ì œí•œëœ ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥
- `contextBridge`ë¥¼ í†µí•´ ëª…ì‹œì ìœ¼ë¡œ ë…¸ì¶œëœ APIë§Œ ì‚¬ìš©

**ì£¼ìš” ì½”ë“œ ì˜ˆì‹œ**:
```typescript
// ì•ˆì „í•œ API ë…¸ì¶œ
contextBridge.exposeInMainWorld('electron', {
  ipcRenderer: {
    send: (channel, data) => ipcRenderer.send(channel, data),
    // íŠ¹ì • ì±„ë„ë§Œ í—ˆìš©í•˜ëŠ” ì œí•œì  ì ‘ê·¼
  }
})
```

---

### ğŸ¨ `src/renderer/` - React í”„ë¡ íŠ¸ì—”ë“œ (UI)
**ì—­í• **: ì‚¬ìš©ìê°€ ë³´ê³  ìƒí˜¸ì‘ìš©í•˜ëŠ” ì›¹ ê¸°ë°˜ ì¸í„°í˜ì´ìŠ¤

```
src/renderer/
â”œâ”€â”€ index.html                    # HTML ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”œâ”€â”€ main.tsx                      # React ì•± ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”œâ”€â”€ App.tsx                       # ë£¨íŠ¸ React ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ env.d.ts                      # í™˜ê²½ íƒ€ì… ì •ì˜
â”œâ”€â”€ components/                   # React ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â””â”€â”€ Versions.tsx
â””â”€â”€ assets/                       # ì •ì  ë¦¬ì†ŒìŠ¤
    â”œâ”€â”€ fonts.css                 # í°íŠ¸ ì •ì˜
    â”œâ”€â”€ fonts/                    # Variable Font íŒŒì¼ë“¤
    â”œâ”€â”€ base.css                  # ê¸°ë³¸ ìŠ¤íƒ€ì¼
    â”œâ”€â”€ main.css                  # ë©”ì¸ ìŠ¤íƒ€ì¼
    â”œâ”€â”€ electron.svg              # ë¡œê³  ì´ë¯¸ì§€
    â””â”€â”€ wavy-lines.svg           # ë°°ê²½ ì´ë¯¸ì§€
```

**í•µì‹¬ ì—­í• **:
- **UI ë Œë”ë§**: React ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ êµ¬ì„±
- **ì‚¬ìš©ì ìƒí˜¸ì‘ìš©**: í´ë¦­, ì…ë ¥ ë“± ì´ë²¤íŠ¸ ì²˜ë¦¬
- **ìƒíƒœ ê´€ë¦¬**: React state, context ë“±ì„ í†µí•œ ì•± ìƒíƒœ ê´€ë¦¬
- **ìŠ¤íƒ€ì¼ë§**: CSS, Variable Fontsë¥¼ í†µí•œ ì‹œê°ì  ë””ìì¸
- **ë©”ì¸ í”„ë¡œì„¸ìŠ¤ í†µì‹ **: `window.electron` APIë¥¼ í†µí•œ IPC í†µì‹ 

**ì‹¤í–‰ í™˜ê²½**: Chromium ì›¹ ì—”ì§„ (ì›¹ í‘œì¤€ APIë§Œ ì‚¬ìš© ê°€ëŠ¥, Node.js API ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€)

**ë³´ì•ˆ ì œì•½**:
- íŒŒì¼ ì‹œìŠ¤í…œ ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€
- ì‹œìŠ¤í…œ API ì§ì ‘ í˜¸ì¶œ ë¶ˆê°€
- preload ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ë…¸ì¶œëœ APIë§Œ ì‚¬ìš© ê°€ëŠ¥

**ì£¼ìš” ì½”ë“œ ì˜ˆì‹œ**:
```typescript
// IPC í†µì‹  (preloadë¥¼ í†µí•´ ë…¸ì¶œëœ API ì‚¬ìš©)
const handleClick = () => {
  window.electron.ipcRenderer.send('ping')
}

// ì¼ë°˜ì ì¸ React ì»´í¬ë„ŒíŠ¸
function App() {
  return <button onClick={handleClick}>Send IPC</button>
}
```

---

## ğŸ› ï¸ ë¹Œë“œ ê²°ê³¼ë¬¼

### `out/` - ê°œë°œ ë¹Œë“œ ê²°ê³¼ë¬¼
Viteë¡œ ë¹Œë“œëœ ê°œë°œìš© ê²°ê³¼ë¬¼

```
out/
â”œâ”€â”€ main/                         # ë¹Œë“œëœ ë©”ì¸ í”„ë¡œì„¸ìŠ¤
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ preload/                      # ë¹Œë“œëœ í”„ë¦¬ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ index.js
â””â”€â”€ renderer/                     # ë¹Œë“œëœ ë Œë”ëŸ¬
    â”œâ”€â”€ index.html
    â””â”€â”€ assets/
```

### `dist/` - ë°°í¬ìš© íŒ¨í‚¤ì§€
electron-builderë¡œ ìƒì„±ëœ ë°°í¬ ê°€ëŠ¥í•œ ì•± íŒ¨í‚¤ì§€

```
dist/
â”œâ”€â”€ bartender-fe-1.0.0.dmg       # macOS DMG
â”œâ”€â”€ bartender-fe-1.0.0.exe       # Windows ì„¤ì¹˜ í”„ë¡œê·¸ë¨
â””â”€â”€ bartender-fe-1.0.0.AppImage  # Linux AppImage
```

---

## âš™ï¸ ì„¤ì • íŒŒì¼ë“¤

### í•µì‹¬ ì„¤ì •
- **`package.json`**: í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„° ë° ì˜ì¡´ì„±
- **`electron.vite.config.ts`**: Vite ë¹Œë“œ ì„¤ì •
- **`electron-builder.yml`**: ì•± íŒ¨í‚¤ì§• ì„¤ì •

### TypeScript ì„¤ì •
- **`tsconfig.json`**: ì „ì²´ í”„ë¡œì íŠ¸ TS ì„¤ì •
- **`tsconfig.node.json`**: Node.js í™˜ê²½ (main/preload)
- **`tsconfig.web.json`**: ì›¹ í™˜ê²½ (renderer)

### ê°œë°œ ë„êµ¬
- **`biome.json`**: ë¦°í„°/í¬ë§·í„° ì„¤ì •
- **`.gitignore`**: Git ë¬´ì‹œ íŒŒì¼ ëª©ë¡

### ë¦¬ì†ŒìŠ¤
- **`resources/`**: ì•± ì•„ì´ì½˜, ë„¤ì´í‹°ë¸Œ ë¦¬ì†ŒìŠ¤
- **`build/`**: ë¹Œë“œìš© ì¶”ê°€ ë¦¬ì†ŒìŠ¤

---

## ğŸ”„ í”„ë¡œì„¸ìŠ¤ê°„ í†µì‹  êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    IPC    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Context   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Main Process  â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ Preload Script  â”‚ â†â”€â”€Bridgeâ”€â”€â†’ â”‚ Renderer Process â”‚
â”‚   (Node.js)     â”‚           â”‚  (Sandboxed)    â”‚             â”‚    (React)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ File System   â”‚           â”‚ â€¢ IPC Interface â”‚             â”‚ â€¢ User Interfaceâ”‚
â”‚ â€¢ OS APIs       â”‚           â”‚ â€¢ Security Layerâ”‚             â”‚ â€¢ Event Handlingâ”‚
â”‚ â€¢ Window Mgmt   â”‚           â”‚ â€¢ API Exposure  â”‚             â”‚ â€¢ State Mgmt    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ ê°œë°œ íë¦„

1. **ê°œë°œ**: `pnpm dev` â†’ Hot reloadë¡œ ì‹¤ì‹œê°„ ê°œë°œ
2. **ë¹Œë“œ**: `pnpm build` â†’ `out/` ë””ë ‰í† ë¦¬ì— ê²°ê³¼ë¬¼ ìƒì„±
3. **íŒ¨í‚¤ì§•**: `pnpm build:mac/win/linux` â†’ `dist/` ì— ë°°í¬ìš© íŒ¨í‚¤ì§€ ìƒì„±
4. **ë°°í¬**: `dist/`ì˜ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©ìì—ê²Œ ë°°í¬